<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Vip用户注册</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link rel="stylesheet" href="__PUBLIC__/mall/css/reset.css">
<link rel="stylesheet" href="__PUBLIC__/mall/css/registerVip.css">
<script src="__PUBLIC__/mall/js/jquery-1.11.3.js"></script>
<!--<script src="__PUBLIC__/mall/js/registerVip.js"></script>-->
</head>
<body>
	<section>
	    	<div class="thead clear">
	    		<div class="thead_div thead_current">
	    			<div class="thead_xuhao">
	    				01
	    			</div>
	    			<div class="thead_txt">
	    				<p class="thead_tit">填写信息提交注册侧</p>
	    				<p class="thead_tip">请确保填写信息真实有效，提交成功后即可登录自然生活服务平台</p>
	    			</div>
	    		</div>
	    		<div class="thead_div">
	    			<div class="thead_xuhao">
	    				02
	    			</div>
	    			<div class="thead_txt">
	    				<p class="thead_tit">登录平台完成认证</p>
	    				<p class="thead_tip">登录平台进行真实信息认证及套餐的订单支付</p>
	    			</div>
	    		</div>
	    		<div class="thead_div">
	    			<div class="thead_xuhao">
	    				03
	    			</div>
	    			<div class="thead_txt">
	    				<p class="thead_tit">接受奖励认证</p>
	    				<p class="thead_tip">选择不同套餐对应服务并请仔细阅读套餐说明</p>
	    			</div>
	    		</div>
	    	</div>

		<!--第一步-->
		<form action = "{:U('vipRegister')}" method = "post"  class="container" onsubmit="return check()">
	    		<div class="con_info">
	    			<h2>VIP注册</h2>
		    		<div class="con_1">
		    			<p>账号信息</p>
		    			<div class="con_one">
		    				<div class="con_item">
			    				<label>*手机号：</label>
			    				<div class="con_in">
			    					<input type="text" name = "username" required placeholder="请填写您的手机号码，方便接收订单通知" id = "send_phone">
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*验证码：</label>
			    				<div class="con_in con_special" >
			    					<input type="text" name="code" placeholder="请输入验证码(暂可不填写)" required>
			    					<input type="button" value="发送手机验证码" id="send_phone_code">
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*登录密码：</label>
			    				<div class="con_in">
			    					<input type="password" name="password" required placeholder="6-20位大小写英文字母、数字或符号" style="width:292px;">
									<span style="color:red;"></span>
			    				</div>
		    				</div>
		    				<div class="con_item" >
			    				<label>*确认密码：</label>
			    				<div class="con_in">
			    					<input type="password" name="repassword" required placeholder="6-20位大小写英文字母、数字或符号" style="width:292px;">
									<span style="color:red;"></span>
			    				</div>
		    				</div>
							<script>
								function checkpassword(){
								    var password = $("input[name='password']").val();
								    var repassword = $("input[name='repassword']").val();
								    if(password.length<6 || repassword.length<6 || password != repassword){
                                        $("input[name='password']").next("span").html('两次密码不一致');
                                        $("input[name='repassword']").next("span").html('两次密码不一致');
									}else{
                                        $("input[name='password']").next("span").html('');
                                        $("input[name='repassword']").next("span").html('');
									}
								}
								$("input[name='password']").blur(function(){
                                    checkpassword();
								})
                                $("input[name='repassword']").blur(function(){
                                    checkpassword();
                                })
                                $("input[name='username']").blur(function(){
                                   $("input[name='telphone']").val($(this).val());
                                })
							</script>
		    				<div class="con_item">
			    				<label>*唯一编码：</label>
			    				<div class="con_in con_special">
			    					<input type="text" name="vip_code" required placeholder="编码与身份为终身绑定，请记住编码" style="background-color:#ededed;" readonly>
			    					<input type="button" value="生成编码" id = "produce" >
			    				</div>
		    				</div>
							<div class="con_item">
								<label>注册类型：</label>
								<div class="con_in">
									<select name="type" id = "con_item_change">
										<option value="3">VIP会员</option>
										<option value="2">高级创客</option>
									</select>
									<script>
                                        $("#con_item_change").change(function(){
                                            if($(this).val()==2){
                                                $("#con_item").hide();
                                            }else{
                                                $("#con_item").show();
                                            }
                                        })
									</script>
								</div>
							</div>
		    				<div class="con_item" id = "con_item">
			    				<label>*推荐编码：</label>
			    				<div class="con_in con_special">
			    					<input type="text" placeholder="必填" name="pid_code" >
			    					<input type="button" value="关联" id="pid_code" style = "display:none;">
			    				</div>
		    				</div>
		    			</div>
		    		</div>

		    		<div class="con_1">
		    			<p>个人信息<span>（以下信息仅用于用户跟您联系时使用，准确完整有助于获得更多订单）</span></p>
		    			<div class="con_one">
		    				<div class="con_item">
			    				<label>*昵称：</label>
			    				<div class="con_in">
			    					<input type="text" name = "nickname" required placeholder="请使用中文，方便用户联系">
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*姓名：</label>
			    				<div class="con_in" >
			    					<input type="text" name = "user_name" required placeholder="请填写完整真实姓名">
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*电话：</label>
			    				<div class="con_in">
			    					<input type="text" name="telphone" required placeholder="请输入电话方便与您联系">
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*QQ：</label>
			    				<div class="con_in">
			    					<input type="text" name="qq" required placeholder="请填写您的QQ">
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*邮箱：</label>
			    				<div class="con_in">
			    					<input type="text" name="email" placeholder="请填写您的邮箱">
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*所在地：</label>
			    				<div class="con_in">
			    					<div class="info">
									<div>
										<select class="sheng" name = "province_id" required>
											<option value = "">--请选择省--</option>
											<volist name="list" id = "vo">
											<option value = "{$vo.id}"  >{$vo.name}</option>
											</volist>
										</select>
										<select class="shi" name = "city_id" required>
										<option value = "0">--请选择市--</option>
										</select>
										<select class="qu" name = "district_id" required>
											<option value = "0">--请选择县(区)--</option>
										</select>
								      </div>
								    <div id="show"></div>
								</div>
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*详细地址：</label>
			    				<div class="con_in">
			    					<input type="text" name="address" required placeholder="请输入您的详细地址">
			    				</div>
		    				</div>

		    				<div class="con_item">
			    				<label>*证件类型：</label>
			    				<div class="con_in">
			    					<select name="document_type" id="">
			    						<option value="1">身份证</option>
			    						<option value="2">港澳证</option>
			    						<option value="3">护照</option>
			    					</select>
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label style="opacity:0">*证件信息：</label>
			    				<div class="con_in">
			    					<input type="text" name="document_number" required placeholder="证件详细信息">
			    				</div>
		    				</div>
		    			</div>
		    		</div>

		    		<div class="con_1">
		    			<p>银行信息<span>（以下信息将彰显您的服务技能专业和权威，展现在您的个人主页中）</span></p>
		    			<div class="con_one">
		    				<div class="con_item">
			    				<label>开户名：</label>
			    				<div class="con_in">
			    					<input type="text" name="card_name" placeholder="请输入您的真实姓名">
			    				</div>
		    				</div>
							<div class="con_item">
								<label>*银行卡号：</label>
								<div class="con_in">
									<input type="text" name="card_num" required placeholder="请输入您的银行卡号">
								</div>
							</div>
		    				<div class="con_item">
			    				<label>*开户行：</label>
			    				<div class="con_in">
			    					<select name="card_blank" >
			    						<option value="北京银行">北京银行</option>
			    						<option value="华夏银行">华夏银行</option>
			    						<option value="招商银行">招商银行</option>
			    						<option value="农业银行">农业银行</option>
			    						<option value="建设银行">建设银行</option>
			    						<option value="中国银行">中国银行</option>
			    						<option value="邮政银行">邮政银行</option>
			    						<option value="工商银行">工商银行</option>
			    						<option value="其他银行">其他银行</option>
			    					</select>
			    				</div>
		    				</div>
		    				<div class="con_item">
			    				<label>*支行名称：</label>
			    				<div class="con_in">
			    					<input type="text" name="card_blance_blank" required placeholder="请输入支行名称">
			    				</div>
		    				</div>
		    				<!-- <div class="con_item">
			    				<label>*开户行地址：</label>
			    				<div class="con_in">
			    					<div class="info">
									<div>
										<select id="s_province" name="s_province"></select>  
									      <select id="s_city" name="s_city" ></select>  
									      <select id="s_county" name="s_county"></select>
									      <script class="resources library" src="js/area.js" type="text/javascript"></script>
									      <script type="text/javascript">_init_area();</script>
								      </div>
								    <div id="show"></div>
								</div>
			    				</div>
		    				</div> 
		    				<div class="con_item">
			    				<label style="opacity:0">*详细地址：</label>
			    				<div class="con_in">
			    					<input type="text" placeholder="请输入您的详细地址">
			    				</div>
		    				</div>-->

		    				<!--<div class="con_item">-->
			    				<!--<label>*套餐类型：</label>-->
			    				<!--<div class="con_in">-->
			    					<!--<select name="" id="">-->
			    						<!--<option value="">7800套餐</option>-->
			    						<!--<option value="">5200套餐</option>-->
			    						<!--<option value="">48000套餐</option>-->
			    					<!--</select>-->
			    				<!--</div>-->
		    				<!--</div>-->
		    			</div>
		    		</div>
		    		<p><input type="submit" value="立即注册" class="register"></p>
		    		<p><input  type="checkbox" checked>我已阅读并同意<a href="#">《自然生活用户协议》</a></p>
	    		</div>
			</form>
	    	</div>

	</section>
</body>
</html>

<script>
    function check(){
        if($(".sheng").val() ==0){
            alert("省份不能为空");
            return false;
        }
        if($(".shi").val() ==0){
            alert("城市不能为空");
            return false;
        }
        if($(".qu").val() ==0){
            alert("县(区)不能为空");
            return false;
        }

        return true;
    }
    $('.sheng').change(function(){
        $.post('/Admin/Public/shi',{upid:$('.sheng option:selected').val()},function(data){
            $('.shi').html(data);
        })
    });

    $('.shi').change(function(){
        $.post('/Admin/Public/xian',{upid:$('.shi option:selected').val()},function(data){
            $('.qu').html(data);
        })
    })

	$("#produce").click(function(){
        $.post('/Admin/Public/producecode',{},function(data){
            var res = '';
            for($i = 9-data.length;$i>0;$i--){
                res+='0'; //js  补0
			}
            $("#produce").prev().val(res+data);
        })
	})
	$("#send_phone_code").click(function(){
        $.post('/Admin/Public/sendPhone',{"phone":$("#send_phone").val()},function(data){
           alert(data.info);
        })
	})

</script>
